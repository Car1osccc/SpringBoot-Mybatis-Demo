<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cyh.smarthome.dal.family.mapper.FamilyMapper">

    <resultMap id="BaseResultMap" type="com.cyh.smarthome.dal.family.model.FamilyDO">
        <result column="FamilyID" jdbcType="INTEGER" property="familyID"/>
        <result column="FamilyTelephone" jdbcType="VARCHAR" property="familyTelephone"/>
        <result column="FamilyAddress" jdbcType="VARCHAR" property="familyAddress"/>
        <result column="FamilyDeleteFlag" jdbcType="INTEGER" property="familyDeleteFlag"/>
    </resultMap>

    <select id="getFamilyIdByAddress" resultType="INTEGER">
        SELECT DISTINCT FamilyID
        FROM family
        WHERE FamilyAddress = #{familyAddress}
    </select>

    <insert id="createNewFamily" parameterType="com.cyh.smarthome.dal.family.model.FamilyDO">
        INSERT INTO family
        <trim prefix="(" suffix=")" suffixOverrides=",">
            FamilyTelephone,
            FamilyAddress
        </trim>
        <trim prefix="VALUES (" suffix=")" suffixOverrides=",">
            #{familyTelephone},
            #{familyAddress},
        </trim>
    </insert>

</mapper>


